(function(e){function t(t){for(var n,l,u=t[0],o=t[1],s=t[2],f=0,d=[];f<u.length;f++)l=u[f],i[l]&&d.push(i[l][0]),i[l]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);c&&c(t);while(d.length)d.shift()();return a.push.apply(a,s||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,u=1;u<r.length;u++){var o=r[u];0!==i[o]&&(n=!1)}n&&(a.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},i={app:0},a=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var c=o;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("FormTable",{ref:"formTable",attrs:{fieldList:e.fieldList,rules:e.rules},model:{value:e.listData,callback:function(t){e.listData=t},expression:"listData"}}),r("br"),r("Button",{on:{click:e.importData}},[e._v("绑定数据")]),e._v("\n   \n  "),r("Button",{on:{click:e.doValidate}},[e._v("校验")]),e._v("\n   \n  "),r("Button",{attrs:{type:"primary"},on:{click:e.getData}},[e._v("获取数据")]),e._v("\n   \n  "),r("Button",{attrs:{type:"error"},on:{click:e.doClear}},[e._v("清空")])],1)},a=[],l=(r("96cf"),r("3b8d")),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-table"},[r("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[r("thead",[r("tr",[e._l(e.fieldList,function(t){return[r("th",{key:t.title,style:{textAlign:t.align||"left"},attrs:{width:t.width}},[e.rules[t.prop]&&(e.rules[t.prop].required||e.rules[t.prop].filter(function(e){return e.required}).length)?r("i",[e._v("*")]):e._e(),e._v("\n            "+e._s(t.title||"#")+"\n          ")])]})],2)]),r("tbody",[e._l(e.value,function(t,n){return[r("TableTR",{key:"form-table-"+n,attrs:{index:n,item:t,fieldList:e.fieldList,errorClass:e.errorClass}})]})],2)]),e.showAdd?r("p",{on:{click:function(t){return e.value.push({})}}},[e._v("增加一行")]):e._e()])},o=[],s=r("795b"),c=r.n(s),f=r("a15e"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",e._l(e.fieldList,function(t,n){return r("td",{key:"form-table-tr-"+e.index+"-"+n,class:e.item.errors&&e.item.errors[t.prop]?e.errorClass:"",style:{textAlign:t.align||"left"}},["index"===t.type?r("label",[e._v(e._s(e.index+1))]):t.render?r("RenderComp",{attrs:{render:t.render,item:e.item,index:e.index}}):r("label",[e._v(e._s(e.item[t.prop]||t.default))])],1)}),0)},p=[],m=(r("c5f6"),{name:"vue-form-table-render",functional:!0,props:{render:Function,item:Object,index:Number},render:function(e,t){var r=t.props,n=r.render,i=r.item,a=r.index;return n(e,i,a)}}),v={name:"form-table-tr",components:{RenderComp:m},props:{item:{default:function(){return{}},type:Object},index:{default:-1,type:Number},fieldList:{default:function(){return[]},type:Array},errorClass:{default:"ivu-form-item-error",type:String}},data:function(){return{}}},h=v,b=r("2877"),y=Object(b["a"])(h,d,p,!1,null,null,null),g=y.exports,_={name:"form-table",components:{TableTR:g},props:{fieldList:{default:function(){return[]},type:Array},value:{default:function(){return[{}]},type:Array},rules:{default:function(){return{}},type:Object},errorClass:{default:"ivu-form-item-error",type:String},showAdd:{default:!0,type:Boolean}},data:function(){return{}},watch:{value:{deep:!0,handler:function(e){this.$emit("input",e)}}},mounted:function(){this.value&&this.value.map&&0!==this.value.length||this.$emit("input",[{}])},methods:{validate:function(){var e=this;return new c.a(function(t,r){var n=new f["a"](e.rules),i=e.value,a=!0;i.map(function(t,r){n.validate(t,function(r,n){r?(a=!1,e.$set(t,"errors",n)):e.$delete(t,"errors")})}),t(a)})}}},x=_,w=(r("8520"),Object(b["a"])(x,u,o,!1,null,null,null)),k=w.exports,O=k,$={name:"demo",components:{FormTable:O},data:function(){var e=this;this.$createElement;return{fieldList:[{type:"index",title:"序号"},{title:"文本",prop:"text",default:"默认值"},{title:"render且带校验的字段",prop:"select",render:function(e,t,r){return e("Select",{model:{value:t.select,callback:function(e){t.select=e}}},[e("Option",{attrs:{value:"1"}},["选项1"]),e("Option",{attrs:{value:"2"}},["选项2"])])}},{title:"输入框",prop:"input",render:function(t,r,n){return t("Input",{on:{"on-keyup":function(t){e.$set(r,"input",t.target.value)}},model:{value:r.input,callback:function(e){r.input=e}}})}},{title:"设置了width的字段",width:"140px",prop:"width",default:"宽度默认值"},{title:"设置了align的字段",align:"center",render:function(e,t,r){return e("Icon",{attrs:{type:"logo-android",size:"24"}})}},{title:"操作",align:"center",render:function(t,r,n){return t("div",[t("Button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.$set(r,"text","被按钮修改过了"),e.$set(r,"input","被按钮修改过了"),e.$set(r,"select","1")}}},["修改值"]),t("Button",{attrs:{type:"error",size:"small"},style:"margin-left: 8px;",on:{click:function(t){e.$delete(e.listData,n)}}},["删除"])])}}],rules:{select:[{required:!0}],input:[{required:!0}]},listData:[]}},methods:{importData:function(){for(var e=[],t=0;t<10;t++)e.push({text:"加载了默认文本",input:"第".concat(t,"行"),select:"1",width:"宽度140px"});this.listData=e},doValidate:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.formTable.validate();case 2:t=e.sent,t?this.$Message.success("校验通过"):this.$Message.error("校验失败");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getData:function(){console.log(this.listData)},doClear:function(){this.listData=[]}}},j=$,D=(r("7c55"),Object(b["a"])(j,i,a,!1,null,null,null)),C=D.exports,T=r("e069"),L=r.n(T);r("dcad");n["default"].use(L.a),new n["default"]({render:function(e){return e(C)}}).$mount("#app")},"5c48":function(e,t,r){},"7b1d":function(e,t,r){},"7c55":function(e,t,r){"use strict";var n=r("5c48"),i=r.n(n);i.a},8520:function(e,t,r){"use strict";var n=r("7b1d"),i=r.n(n);i.a}});
//# sourceMappingURL=app.1144bbab.js.map